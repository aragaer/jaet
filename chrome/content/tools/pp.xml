<?xml version="1.0"?>
<bindings 
    xmlns="http://www.mozilla.org/xbl"
    xmlns:xbl="http://www.mozilla.org/xbl"
    xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
    <binding id="project_box">
        <content>
            <xul:hbox flex="1">
                <xul:vbox flex="1">
                    <xul:label value="Required" />
                    <xul:tree anonid="order" flex="1" context="order-menu" hidecolumnpicker="true">
                        <xul:treecols>
                            <xul:treecol label="Item" id="itm" flex="1" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Count" id="cnt" />
                        </xul:treecols>
                        <xul:treechildren/>
                    </xul:tree>
                </xul:vbox>
                <xul:splitter collapse="none"/>
                <xul:vbox flex="1">
                    <xul:label value="Spent" />
                    <xul:tree anonid="spent" flex="1" context="spent-menu" hidecolumnpicker="true">
                        <xul:treecols>
                            <xul:treecol label="Item" id="itm" flex="1" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Count" id="cnt" />
                        </xul:treecols>
                        <xul:treechildren/>
                    </xul:tree>
                </xul:vbox>
            </xul:hbox>
            <xul:hbox flex="5">
                <xul:vbox flex="1">
                    <xul:label value="To buy"/>
                    <xul:tree anonid="buy" flex="1" context="buy-menu" hidecolumnpicker="true">
                        <xul:treecols>
                            <xul:treecol label="Item" id="itm" flex="1" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Count/Runs" id="cnt" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Cost" id="isk" />
                        </xul:treecols>
                        <xul:treechildren/>
                    </xul:tree>
                </xul:vbox>
                <xul:splitter collapse="none"/>
                <xul:vbox flex="1">
                    <xul:label value="To build"/>
                    <xul:tree anonid="build" flex="1" context="build-menu" hidecolumnpicker="true">
                        <xul:treecols>
                            <xul:treecol label="Item" id="itm" flex="1" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Count" id="cnt" />
                        </xul:treecols>
                        <xul:treechildren/>
                    </xul:tree>
                </xul:vbox>
                <xul:splitter collapse="none"/>
                <xul:vbox flex="1">
                    <xul:label value="Acquired"/>
                    <xul:tree anonid="acquired" flex="1" context="acquired-menu" hidecolumnpicker="true">
                        <xul:treecols>
                            <xul:treecol label="Item" id="itm" flex="1" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="ME" id="me" />
                            <xul:splitter class="tree-splitter" />
                            <xul:treecol label="Count/Runs" id="cnt" />
                        </xul:treecols>
                        <xul:treechildren/>
                    </xul:tree>
                </xul:vbox>
            </xul:hbox>
        </content>
        <implementation>
            <constructor><![CDATA[
                println("Project box constructor");
                this.orderView = new OrderTreeView();
                this.orderView.pr = this;
                document.getAnonymousElementByAttribute(this, 'anonid', 'order').view = this.orderView;
                this.spentView = new SpentTreeView();
                this.spentView.pr = this;
                document.getAnonymousElementByAttribute(this, 'anonid', 'spent').view = this.spentView;
                this.buyView = new BuyTreeView();
                this.buyView.pr = this;
                document.getAnonymousElementByAttribute(this, 'anonid', 'buy').view = this.buyView;
                this.buildView = new BuildTreeView();
                this.buildView.pr = this;
                document.getAnonymousElementByAttribute(this, 'anonid', 'build').view = this.buildView;
                this.acquiredView = new AcquiredTreeView();
                this.acquiredView.pr = this;
                document.getAnonymousElementByAttribute(this, 'anonid', 'acquired').view = this.acquiredView;
            ]]></constructor>
            <method name="save">
                <body><![CDATA[
                ]]></body>
            </method>
            <method name="rebuild">
                <body><![CDATA[
                    this.orderView.rebuild();
                    this.spentView.rebuild();
                    this.buyView.rebuild();
                    this.buildView.rebuild();
                    this.acquiredView.rebuild();
                ]]></body>
            </method>
            <method name="load">
                <body><![CDATA[
                ]]></body>
            </method>
            <field name="project"/>
        </implementation>
    </binding>
</bindings>

